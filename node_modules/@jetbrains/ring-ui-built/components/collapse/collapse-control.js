import { c } from 'react-compiler-runtime';
import { useContext, cloneElement } from 'react';
import joinDataTestAttributes from '../global/data-tests.js';
import { CollapseContext } from './collapse-context.js';
import { COLLAPSE_CONTROL_TEST_ID } from './consts.js';
import { jsx } from 'react/jsx-runtime';

const CollapseControl = t0 => {
  const $ = c(13);
  if ($[0] !== "37a6daba1dc720b937e7d2a844af157177f8338140503553968cf8ae1ecf6263") {
    for (let $i = 0; $i < 13; $i += 1) {
      $[$i] = Symbol.for("react.memo_cache_sentinel");
    }
    $[0] = "37a6daba1dc720b937e7d2a844af157177f8338140503553968cf8ae1ecf6263";
  }
  const {
    children,
    "data-test": dataTest
  } = t0;
  const {
    setCollapsed,
    collapsed,
    id
  } = useContext(CollapseContext);
  let t1;
  let t2;
  if ($[1] !== children || $[2] !== collapsed || $[3] !== dataTest || $[4] !== id || $[5] !== setCollapsed) {
    const child = typeof children === "function" ? children(collapsed) : children;
    if ($[8] !== dataTest) {
      t1 = joinDataTestAttributes(COLLAPSE_CONTROL_TEST_ID, dataTest);
      $[8] = dataTest;
      $[9] = t1;
    } else {
      t1 = $[9];
    }
    t2 = /*#__PURE__*/cloneElement(child, {
      onClick: setCollapsed,
      "aria-controls": `collapse-content-${id}`,
      "aria-expanded": String(!collapsed)
    });
    $[1] = children;
    $[2] = collapsed;
    $[3] = dataTest;
    $[4] = id;
    $[5] = setCollapsed;
    $[6] = t1;
    $[7] = t2;
  } else {
    t1 = $[6];
    t2 = $[7];
  }
  let t3;
  if ($[10] !== t1 || $[11] !== t2) {
    t3 = /*#__PURE__*/jsx("p", {
      "data-test": t1,
      children: t2
    });
    $[10] = t1;
    $[11] = t2;
    $[12] = t3;
  } else {
    t3 = $[12];
  }
  return t3;
};

export { CollapseControl, CollapseControl as default };
